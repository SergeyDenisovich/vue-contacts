(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79409b27"],{"07ac":function(t,e,a){var n=a("23e7"),i=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},4669:function(t,e,a){},"6d95":function(t,e,a){},"6f53":function(t,e,a){var n=a("83ab"),i=a("df75"),o=a("fc6a"),c=a("d1e7").f,d=function(t){return function(e){var a,d=o(e),s=i(d),r=s.length,u=0,l=[];while(r>u)a=s[u++],n&&!c.call(d,a)||l.push(t?[a,d[a]]:d[a]);return l}};t.exports={entries:d(!0),values:d(!1)}},"713d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contact-info"},[n("h3",[t._v("Contact: "+t._s(t.contact.name.toUpperCase()))]),n("router-link",{attrs:{tag:"div",to:"/"}},[t._v("Back to contact list")]),t.showEditContact?[n("edit-contact",{on:{closeUpdateForm:function(e){t.showEditContact=!1}}})]:n("div",[t._l(t.contact,(function(e,a){return n("div",{key:a,staticClass:"contact-info__description"},["id"!==a?n("p",[n("span",[t._v(t._s(a)+":")]),n("span",[t._v(t._s(e))])]):t._e()])})),n("button",{on:{click:t.editContact}},[n("img",{attrs:{src:a("b0e3"),alt:"Edit icon"}}),n("span",[t._v("Edit contact")])])],2)],2)},i=[],o=(a("7db0"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Edit contact")]),a("div",{staticClass:"edit-contact-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateContact()}}},[t._l(t.contact,(function(e,n){return a("div",{key:n},["id"!==n?a("div",[a("label",[t._v(t._s(n)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact[n],expression:"contact[key]"}],attrs:{type:"text",required:""},domProps:{value:t.contact[n]},on:{input:function(e){e.target.composing||t.$set(t.contact,n,e.target.value)}}}),a("span",{staticClass:"edit-contact-form__delete-btn",on:{click:function(e){return e.preventDefault(),t.deleteField(n)}}},[t._v("×")])]):t._e()])})),a("p",[t.addedField?t._e():a("button",{on:{click:function(e){return e.preventDefault(),t.addField.apply(null,arguments)}}},[t._v("Add field")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.addedField,expression:"addedField"}]},[a("h4",[t._v("New field:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addedFieldData.key,expression:"addedFieldData.key"}],attrs:{type:"text",placeholder:"Enter field name"},domProps:{value:t.addedFieldData.key},on:{input:function(e){e.target.composing||t.$set(t.addedFieldData,"key",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addedFieldData.value,expression:"addedFieldData.value"}],attrs:{type:"text",placeholder:"Enter field value"},domProps:{value:t.addedFieldData.value},on:{input:function(e){e.target.composing||t.$set(t.addedFieldData,"value",e.target.value)}}})]),a("div",{staticClass:"edit-contact-form__controls"},[a("button",{attrs:{type:"submit"}},[t._v("Save")]),t.isCancel?t._e():a("button",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.cancelUpdate.apply(null,arguments)}}},[t._v("Cancel edit")]),a("button",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.closeEditForm.apply(null,arguments)}}},[t._v("Close edit")])])],2)])])}),c=[],d=(a("b64b"),a("b0c0"),a("4de4"),a("07ac"),{data:function(){return{id:null,contacts:[],prevContactDataState:{},addedField:!1,addedFieldData:{key:"",value:""}}},created:function(){var t=this;this.contacts=this.$store.getters.getContactsCopy,this.id=Number(this.$route.params.id),this.prevContactDataState=this.$store.getters.getNonEditContacts.find((function(e){return Number(e.id)===Number(t.id)}))},computed:{contact:function(){var t=this;return this.contacts.find((function(e){return Number(e.id)===Number(t.id)}))},isCancel:function(){return Object.keys(this.prevContactDataState).length===Object.keys(this.contact).length&&!this.isFieldEmpty()}},methods:{updateContact:function(){""!==this.addedFieldData.key&&""!==this.addedFieldData.value&&this.$set(this.contact,this.addedFieldData.key,this.addedFieldData.value),this.$store.commit("updateContact",this.contact),this.addedField=!1,this.addedFieldData.key=this.addedFieldData.value=""},cancelUpdate:function(){confirm("Отменить редактирование контакта ".concat(this.contact.name.toUpperCase(),"?"))&&(this.$store.commit("updateContact",this.prevContactDataState),this.addedField=!1,this.$emit("closeUpdateForm"))},addField:function(){this.addedField=!0},closeEditForm:function(){var t=this;if(this.isFieldEmpty()){var e=Object.keys(this.contact).filter((function(e){return""===t.contact[e]}));alert("Заполните поля ".concat(e," или отмените редактирование данного контакта"))}else this.$emit("closeUpdateForm")},deleteField:function(t){confirm("Удалить поле ".concat(t,"?"))&&(this.$delete(this.contact,t),this.$store.commit("updateContact",this.contact))},isFieldEmpty:function(){return Object.values(this.contact).some((function(t){return""===t}))}}}),s=d,r=(a("8d9c"),a("2877")),u=Object(r["a"])(s,o,c,!1,null,"5ebca451",null),l=u.exports,p={name:"ContactInfo",components:{EditContact:l},data:function(){return{id:null,showEditContact:!1}},created:function(){this.id=this.$route.params.id},computed:{contact:function(){var t=this;return this.$store.getters.getAllContacts.find((function(e){return Number(e.id)===Number(t.id)}))}},methods:{editContact:function(){this.showEditContact=!0}}},f=p,v=(a("8aa3"),Object(r["a"])(f,n,i,!1,null,"bedf6886",null));e["default"]=v.exports},"7db0":function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").find,o=a("44d2"),c="find",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},"8aa3":function(t,e,a){"use strict";a("4669")},"8d9c":function(t,e,a){"use strict";a("6d95")},b0e3:function(t,e,a){t.exports=a.p+"img/edit.0a8e2745.svg"}}]);
//# sourceMappingURL=chunk-79409b27.b9ec6ca4.js.map